window.config=[{path:"/timerunning",target:"pc",keyWords:["canvas","rollup","文字识别"],tips:["demo","canvas"],title:"rollup打包的canvas demo",description:"自动识别用户输入文案以canvas绘制该文案，使用rollup打包，未使用框架或库",swiper:1},{path:"/useful_code",target:"phone",keyWords:["code","base","代码片段"],tips:["code","useful","loader"],title:"收集一些有用的代码片段",description:"收集一些常用的代码片段，项目除了本身意义外，项目使用了vue搭建，并使用node封装一个简单的模版引擎，将md文件自动转成vue并在router配置中插入生成的页面",swiper:2},{path:"/vue_demo",target:"pc",keyWords:["vue","vueApi"],tips:["vue","vue api"],title:"收集一些vue不常用不常见但可能很有用的api",description:"收集一些vue不常用不常见但可能很有用的api，如v-model指令，sync修饰符等",swiper:3},{path:"/myBooks",target:"pc",keyWords:["book","gitbook","note"],tips:["book","notes"],title:"myBooks",description:"各种前端笔记包含基础，如js，css，es6等；框架如vue等，工程化等等相关笔记",swiper:-1}];
window.swiper={colors:["redBg","greenBg","blueBg"],timer:null,waitTime:3e3,moveTime:500,stepTime:30,width:0,transX:0,stepWidth:0,hasMove:0,index:0,length:0,drag:!1,init:function(t,i){var e=this._initList(t);e&&(this.width=window.innerWidth,this.render(e,i),e.length>1&&(this.length=e.length,this.stepWidth=parseInt(this.width/this.moveTime*this.stepTime),this._initAnimation(i,e.length*this.width)))},reset:function(){var t=this;this.width=window.innerWidth;var i=document.querySelector(".swiper-list");i.style.width=this.length*this.width+"px",i.querySelectorAll(".swiper-item").forEach(function(i){i.style.width=t.width+"px"}),this._move(i,!0,!0),this.timer?(clearTimeout(this.timer),this.timer=null,this.wait(i)):this.wait(i)},render:function(t,i){for(var e=this.colors.slice().sort(function(){return Math.random()-.5}),s="",n=[],h=0;h<t.length;h++)s+=this._getItem(t[h],i,e[h],this.width),n.push("");s='<div class="swiper-list">'+s+"</div>"+(n='<div class="swiper-footer"><span class="swiper-active">'+(n=n.join('</span><span class="">'))+"</span></div>");var r=document.querySelector(".swiper-con");if(r)r.innerHTML=s;else{(r=document.createElement("div")).className="swiper-con",r.innerHTML=s;var o=document.querySelector("body");o.insertBefore(r,o.firstChild)}r.querySelector(".swiper-list").style.width=t.length*this.width+"px"},_initAnimation:function(t){var i=document.querySelector(".swiper-list");this._initEvent(i,t),this.wait(i)},move:function(t){var i=this;this.timer=setTimeout(function(){var e=i.transX+i.stepWidth;(e=Math.abs(e)%i.width)>=i.stepWidth&&e<i.width?(i._move(t,i.stepWidth),i.move(t)):(clearTimeout(i.timer),i.timer=null,i._move(t,!0),i.wait(t))},this.stepTime)},wait:function(t){var i=this;this.timer=setTimeout(function(){clearTimeout(i.timer),i.timer=null,i.move(t)},this.waitTime)},_initEvent:function(t,i){var e,s=this;if("pc"===i)document.addEventListener("mouseup",function(){s.timer||(s.timer=setTimeout(function(){s.drag=!1,s.move(t)},100))}),t.onmousemove=function(i){1===i.buttons&&(s.drag?s._move(t,e-i.clientX):(clearTimeout(s.timer),s.timer=null,s.drag=!0),e=i.clientX)};else{t.addEventListener("touchstart",function(t){s.timer&&(clearTimeout(s.timer),s.timer=null,e=t.touches[0].clientX)}),t.addEventListener("touchmove",function(i){s._move(t,e-i.touches[0].clientX),e=i.touches[0].clientX});var n=function(){s.timer||s.move(t)};t.addEventListener("touchend",n),t.addEventListener("touchcancel",n)}},_move:function(t,i,e){if("number"==typeof i){this.transX+=i;var s=this.length*this.width;this.transX<0&&-1!==this.hasMove?(this.hasMove=-1,this._moveItem(t.lastChild,-s)):this.transX<=-this.width&&0!==this.hasMove?(this.hasMove=0,this._moveItem(t.lastChild,0),this.transX=s-this.width):this.transX>s-this.width&&1!==this.hasMove?(this.hasMove=1,this._moveItem(t.firstChild,s)):this.transX>=s&&0!==this.hasMove&&(this.hasMove=0,this._moveItem(t.firstChild,0),this.transX=0)}else{if(!e){var n=document.querySelectorAll(".swiper-con .swiper-footer span");n[this.index].classList.toggle("swiper-active"),this.transX<0||this.transX>s-this.width?this.index=0:(this.index=Math.ceil(this.transX/this.width),this.index=this.index>=this.length?0:this.index),n[this.index].classList.toggle("swiper-active")}this.transX=this.width*this.index,0!==this.hasMove&&(-1===this.hasMove?this._moveItem(t.lastChild,0):this._moveItem(t.firstChild,0),this.hasMove=0)}this._moveItem(t,-this.transX)},_moveItem:function(t,i){t.style["-webkit-transform"]="translate3d("+i+"px, 0, 0)",t.style["-moz-transform"]="translate3d("+i+"px, 0, 0)",t.style["-ms-transform"]="translate3d("+i+"px, 0, 0)",t.style.transform="translate3d("+i+"px, 0, 0)"},_initList:function(t){for(var i=[],e=0;e<t.length;e++)t[e].swiper>-1&&i.push({title:t[e].title,description:t[e].description,tips:t[e].tips,path:t[e].path,target:t[e].target,swiper:t[e].swiper});return i.length>0&&i.sort(function(t,i){return t.swiper-i.swiper}).slice(0,3)},_getItem:function(t,i,e,s){return'<div style="width:'+s+'px;" class="swiper-item '+e+'" data-path="'+t.path+'"><div class="container" data-path="'+t.path+'"><div class="swiper-tit">'+t.title+'</div><div class="swiper-text">'+t.description+"</div></div></div>"}};
window.list={init:function(t){for(var e="",i=0;i<t.length;i++)e+=this._getItem(t[i]);var a=document.querySelector(".list-con");a?a.innerHTML=e:((a=document.createElement("div")).className="list-con",a.innerHTML=e,document.querySelector("body").insertBefore(a,document.querySelector(".footer")))},_getItem:function(t){var e=this._getTips(t.tips);return'<div class="item container" data-path="'+t.path+'"><div class="item-tit"data-path="'+t.path+'">'+t.title+e+'</div><div class="item-text"data-path="'+t.path+'">'+t.description+'</div><div class="item-footer border-top"data-path="'+t.path+'">'+e+"</div></div>"},_getTips:function(t){return'<span class="item-tip">'+t.join('</span><span class="item-tip">')+"</span>"}};
window.toast={cache:{},check:function(t,e,a,n){if(!this.cache[e])for(var c=0;c<t.length;c++)if(t[c].path===e){this.cache[e]={target:t[c].target};break}"all"===this.cache[e].target||this.cache[e].target===a?n():this._render(this._getText(this.cache[e].target),n)},_render:function(t,e){var a=document.querySelector(".toast-con");a?a.querySelector(".toast-text").innerHTML=t:((a=document.createElement("div")).className="toast-con",a.style.display="none",a.innerHTML=this._getTem(t),document.querySelector("body").appendChild(a),this._initEvent(a,e)),this.next=e,a.style.display="block"},next:null,_initEvent:function(t,e){var a=this;t.onclick=function(e){if("exec"in e.target.dataset){"confirm"===e.target.dataset.exec?a.next():t.style.display="none",a.next=null}}},_getTem:function(t){return'<div class="toast-panel"><div class="toast-text">'+t+'</div><div class="toast-footer border-top"><span class="toast-cancel" data-exec="cancel">取消</span><span class="toast-confirm" data-exec="confirm">确认</span></div></div>'},_getText:function(t){return"pc"===t?"该项目是一个PC项目，您当前设备是移动端，是否确认继续访问？":"该项目是一个移动端项目，您当前设备是PC，是否确认继续访问？"}};
function InitEvent(t,i,e,n){t.onclick=function(t){function o(){window.location="https://hz9527.github.io"+a}var a=t.target.dataset.path||t.target.parentNode.dataset.path;if(a)if("function"==typeof i){var r=e||[];r.push(a),r.push(o),i.apply(n,r)}else o()}}window.ctrlObj={target:null,timer:null,init:function(){this._initHead();var t=this;window.onload=function(){window.list.init(window.config),window.swiper.init(window.config,t.target),new InitEvent(document.querySelector(".list-con"),function(i,e){window.toast.check(window.config,i,t.target,e)}),new InitEvent(document.querySelector(".swiper-con"),function(i,e){window.swiper.drag||window.toast.check(window.config,i,t.target,e)})},window.onresize=function(){t.timer||(t.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t._initHead(),window.swiper.reset()},50))}},_initHead:function(){this.target=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(window.navigator.userAgent.toLowerCase())?"phone":"pc";var t=document.getElementById("viewPort");"phone"!==this.target||t?"pc"===this.target&&t&&document.removeChild(t):((t=document.createElement("meta")).id="viewPort",t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no",document.querySelector("head").appendChild(t))}},window.ctrlObj.init();