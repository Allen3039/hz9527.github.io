window.config=[{path:"/timerunning",target:"pc",keyWords:["canvas","rollup","文字识别"],tips:["demo","canvas"],title:"rollup打包的canvas demo",description:"自动识别用户输入文案以canvas绘制该文案",swiper:1},{path:"/timerunning",target:"pc",keyWords:["canvas","rollup","文字识别"],tips:["demo","canvas"],title:"test",description:"hehehehehehehehh",swiper:2}];
window.swiper={colors:["redBg","greenBg","blueBg"],timer:null,waitTime:3e3,moveTime:1e3,stepTime:50,width:0,transX:0,stepWidth:0,hasMove:0,init:function(t,i){var e=this._initList(t);e&&(this.render(e,i),e.length>1&&this._initAnimation(i,e.length*this.width))},render:function(t,i){var e=this.colors.slice().sort(function(){return Math.random()-.5}),s="";this.width=window.innerWidth;for(var n=0;n<t.length;n++)s+=this._getItem(t[n],i,e[n],this.width);var r=document.querySelector(".swiper-con");if(r)r.innerHTML=s;else{(r=document.createElement("div")).className="swiper-con",r.innerHTML=s;var h=document.querySelector("body");h.insertBefore(r,h.firstChild)}r.style.width=t.length*this.width+"px"},_initAnimation:function(t,i){var e=document.querySelector(".swiper-con");this._initEvent(e,t,i),this.stepWidth=this.moveTime/this.stepTime,this.wait(e,i)},move:function(t,i){var e=this;this.timer=setTimeout(function(){var s=(e.transX+e.stepWidth)%e.width;s>=e.stepWidth&&s<=e.width-e.stepWidth?(e._move(t,e.stepWidth,i),e.move(t,i)):(e._move(t,e.width-e.transX%e.width,i),clearTimeout(e.timer),e.timer=null,e.wait(t,i))},this.stepTime)},wait:function(t,i){var e=this;this.timer=setTimeout(function(){clearTimeout(e.timer),e.timer=null,e.move(t,i)},this.waitTime)},_initEvent:function(t,i,e){var s,n,r=this;"pc"===i&&(t.onmousemove=function(i){1===i.buttons?r.timer?(clearTimeout(r.timer),r.timer=null,s=i.offsetX,n=r.transX):r._move(t,null,e,n+s-i.offsetX):r.timer||(s=null,r.move(t,e))})},_move:function(t,i,e,s){"number"==typeof s?this.transX=s:this.transX+=i,this.transX<0&&-1!==this.hasMove?(this.hasMove=-1,this._moveItem(t.lastChild,-e)):this.transX<-this.width?(this.hasMove=0,this._moveItem(t.lastChild,0),this.transX=e-this.width):this.transX>e-this.width&&1!==this.hasMove?(this.hasMove=1,this._moveItem(t.firstChild,e)):this.transX>e&&(this.hasMove=0,this._moveItem(t.firstChild,0),this.transX=0),this._moveItem(t,-this.transX)},_moveItem:function(t,i){t.style["-webkit-transform"]="translate3d("+i+"px, 0, 0)",t.style["-moz-transform"]="translate3d("+i+"px, 0, 0)",t.style["-ms-transform"]="translate3d("+i+"px, 0, 0)",t.style.transform="translate3d("+i+"px, 0, 0)"},_initList:function(t){for(var i=[],e=0;e<t.length;e++)t[e].swiper>-1&&i.push({title:t[e].title,description:t[e].description,tips:t[e].tips,path:t[e].path,target:t[e].target,swiper:t[e].swiper});return i.length>0&&i.sort(function(t,i){return t.swiper-i.swiper}).slice(0,3)},_getItem:function(t,i,e,s){return'<div style="width:'+s+'px;" class="swiper-item '+e+'" data-path="'+t.path+'"><div class="container" data-path="'+t.path+'"><div class="swiper-tit">'+t.title+'</div><div class="swiper-text">'+t.description+"</div></div></div>"}};
window.list={init:function(t){for(var e="",i=0;i<t.length;i++)e+=this._getItem(t[i]);var a=document.querySelector(".list-con");a?a.innerHTML=e:((a=document.createElement("div")).className="list-con",a.innerHTML=e,document.querySelector("body").insertBefore(a,document.querySelector(".footer")))},_getItem:function(t){var e=this._getTips(t.tips);return'<div class="item container" data-path="'+t.path+'"><div class="item-tit"data-path="'+t.path+'">'+t.title+e+'</div><div class="item-text"data-path="'+t.path+'">'+t.description+'</div><div class="item-footer"data-path="'+t.path+'">'+e+"</div></div>"},_getTips:function(t){return'<span class="item-tip">'+t.join('</span><span class="item-tip">')+"</span>"}};
console.log(1);
function InitEvent(t,n,i,e){!this.cb&&n&&(InitEvent.prototype.cb=n),this.arg=i,this.context=e||null;var o=this;t.onclick=function(t){var n=o.next(t.target);"function"==typeof o.cb?o.cb.apply(o.context,(i||[]).push(n)):n()}}InitEvent.prototype.next=function(t){return function(){var n;(n=t.dataset.path||t.parentNode.dataset.path)&&(window.location="https://hz9527.github.io"+n),t=null}},window.ctrlObj={target:null,init:function(){this._initHead();var t=this;window.onload=function(){window.list.init(window.config),window.swiper.init(window.config,t.target),new InitEvent(document.querySelector(".list-con"))}},_initHead:function(){if(this.target=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(window.navigator.userAgent.toLowerCase())?"phone":"pc","phone"===this.target){var t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no",document.querySelector("head").appendChild(t)}}},window.ctrlObj.init();