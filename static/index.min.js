window.config=[{path:"/timerunning",target:"pc",keyWords:["canvas","rollup","文字识别"],tips:["demo","canvas"],title:"rollup打包的canvas demo",description:"自动识别用户输入文案以canvas绘制该文案",swiper:1},{path:"/timerunning",target:"pc",keyWords:["canvas","rollup","文字识别"],tips:["demo","canvas"],title:"test",description:"hehehehehehehehh",swiper:2}];
window.swiper={colors:["redBg","greenBg","blueBg"],timer:null,waitTime:3e3,moveTime:500,stepTime:30,width:0,transX:0,stepWidth:0,hasMove:0,index:0,length:0,drag:!1,init:function(t,i){var e=this._initList(t);e&&(this.render(e,i),e.length>1&&(this.length=e.length,this._initAnimation(i,e.length*this.width)))},render:function(t,i){var e=this.colors.slice().sort(function(){return Math.random()-.5}),s="";this.width=window.innerWidth;for(var n=0;n<t.length;n++)s+=this._getItem(t[n],i,e[n],this.width);var h=document.querySelector(".swiper-con");if(h)h.innerHTML=s;else{(h=document.createElement("div")).className="swiper-con",h.innerHTML=s;var r=document.querySelector("body");r.insertBefore(h,r.firstChild)}h.style.width=t.length*this.width+"px"},_initAnimation:function(t){var i=document.querySelector(".swiper-con");this._initEvent(i,t),this.stepWidth=parseInt(this.width/this.moveTime*this.stepTime),this.wait(i)},move:function(t){var i=this;this.timer=setTimeout(function(){var e=i.transX+i.stepWidth;(e=Math.abs(e)%i.width)>=i.stepWidth&&e<i.width?(i._move(t,i.stepWidth),i.move(t)):(clearTimeout(i.timer),i.timer=null,i._move(t,!0),i.wait(t))},this.stepTime)},wait:function(t){var i=this;this.timer=setTimeout(function(){clearTimeout(i.timer),i.timer=null,i.move(t)},this.waitTime)},_initEvent:function(t,i){var e,s=this;if("pc"===i)t.onmousedown=function(t){s.timer&&1===t.buttons&&(clearTimeout(s.timer),s.timer=null,e=t.clientX,s.drag=!0)},document.addEventListener("mouseup",function(){s.timer||(s.timer=setTimeout(function(){s.drag=!1,s.move(t)},100))}),t.onmousemove=function(i){s.drag&&1===i.buttons&&(s._move(t,e-i.clientX),e=i.clientX)};else{t.addEventListener("touchstart",function(t){s.timer&&(clearTimeout(s.timer),s.timer=null,e=t.touches[0].clientX)}),t.addEventListener("touchmove",function(i){s._move(t,e-i.touches[0].clientX),e=i.touches[0].clientX});var n=function(){s.timer||s.move(t)};t.addEventListener("touchend",n),t.addEventListener("touchcancel",n)}},_move:function(t,i){var e=this.length*this.width;"number"==typeof i?(this.transX+=i,this.transX<0&&-1!==this.hasMove?(this.hasMove=-1,this._moveItem(t.lastChild,-e)):this.transX<=-this.width&&0!==this.hasMove?(this.hasMove=0,this._moveItem(t.lastChild,0),this.transX=e-this.width):this.transX>e-this.width&&1!==this.hasMove?(this.hasMove=1,this._moveItem(t.firstChild,e)):this.transX>=e&&0!==this.hasMove&&(this.hasMove=0,this._moveItem(t.firstChild,0),this.transX=0)):(this.transX<0||this.transX>e-this.width?this.index=0:this.index=Math.ceil(this.transX/this.width),this.transX=this.width*this.index,0!==this.hasMove&&(-1===this.hasMove?this._moveItem(t.lastChild,0):this._moveItem(t.firstChild,0),this.hasMove=0)),this._moveItem(t,-this.transX)},_moveItem:function(t,i){t.style["-webkit-transform"]="translate3d("+i+"px, 0, 0)",t.style["-moz-transform"]="translate3d("+i+"px, 0, 0)",t.style["-ms-transform"]="translate3d("+i+"px, 0, 0)",t.style.transform="translate3d("+i+"px, 0, 0)"},_initList:function(t){for(var i=[],e=0;e<t.length;e++)t[e].swiper>-1&&i.push({title:t[e].title,description:t[e].description,tips:t[e].tips,path:t[e].path,target:t[e].target,swiper:t[e].swiper});return i.length>0&&i.sort(function(t,i){return t.swiper-i.swiper}).slice(0,3)},_getItem:function(t,i,e,s){return'<div style="width:'+s+'px;" class="swiper-item '+e+'" data-path="'+t.path+'"><div class="container" data-path="'+t.path+'"><div class="swiper-tit">'+t.title+'</div><div class="swiper-text">'+t.description+"</div></div></div>"}};
window.list={init:function(t){for(var e="",i=0;i<t.length;i++)e+=this._getItem(t[i]);var a=document.querySelector(".list-con");a?a.innerHTML=e:((a=document.createElement("div")).className="list-con",a.innerHTML=e,document.querySelector("body").insertBefore(a,document.querySelector(".footer")))},_getItem:function(t){var e=this._getTips(t.tips);return'<div class="item container" data-path="'+t.path+'"><div class="item-tit"data-path="'+t.path+'">'+t.title+e+'</div><div class="item-text"data-path="'+t.path+'">'+t.description+'</div><div class="item-footer"data-path="'+t.path+'">'+e+"</div></div>"},_getTips:function(t){return'<span class="item-tip">'+t.join('</span><span class="item-tip">')+"</span>"}};
window.toast={cache:{},check:function(t,e,n,a){if(!("path"in this.cache))for(var c=0;c<t.length;c++)if(t.path===e){this.cache[e]={target:t[c].target};break}this.cache[e]===n?a():this._render(this._getText(this.cache[e]),a)},_render:function(t,e){var n=document.querySelector(".toast-con");n?n.querySelector(".toast-text").innerHTML=t:((n=document.createElement("div")).className="toast-con",n.style.display="none",n.innerHTML=this._getTem(t),document.querySelector("body").appendChild(n),this._initEvent(n,e)),this.next=e,n.style.display="block"},next:null,_initEvent:function(t,e){var n=this;t.onclick=function(e){if("exec"in e.target.dataset){"confirm"===e.target.dataset.exec?n.next():t.style.display="none"}}},_getTem:function(t){return'<div class="toast-panel"><div class="toast-text">'+t+'</div><div class="toast-footer"><span class="toast-cancel" data-exec="cancel">取消</span><span class="toast-confirm" data-exec="confirm">确认</span></div></div>'},_getText:function(t){return"pc"===t?"该项目是一个PC项目，您当前设备是移动端，是否确认继续访问？":"该项目是一个移动端项目，您当前设备是PC，是否确认继续访问？"}};
function InitEvent(t,i,n,e){t.onclick=function(t){function o(){window.location="https://hz9527.github.io"+a}var a=t.target.dataset.path||t.target.parentNode.dataset.path;a&&("function"==typeof i?((n=n||[]).push(a),n.push(o),i.apply(e,n)):o())}}window.ctrlObj={target:null,init:function(){this._initHead();var t=this;window.onload=function(){window.list.init(window.config),window.swiper.init(window.config,t.target),new InitEvent(document.querySelector(".list-con")),new InitEvent(document.querySelector(".swiper-con"),function(i,n){window.swiper.drag||window.toast.check(window.config,i,t.target,n)})}},_initHead:function(){if(this.target=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(window.navigator.userAgent.toLowerCase())?"phone":"pc","phone"===this.target){var t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no",document.querySelector("head").appendChild(t)}}},window.ctrlObj.init();