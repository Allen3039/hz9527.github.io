{"version":3,"sources":["webpack:///./src/pages/closure.md?9514","webpack:///./src/pages/closure.md?234d","webpack:///./src/pages/closure.md"],"names":["closure","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","_m","attrs","id","_v","_s","_f","staticRenderFns","href","pre","v-pre","class","Component","__webpack_require__","normalizeComponent","__webpack_exports__","module","exports"],"mappings":"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","file":"static/js/14.52df32c6ad2dfd11814f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"aside-menu\"},[_c('div',{directives:[{name:\"toggle\",rawName:\"v-toggle\"}],staticClass:\"aside-menu-tit\"}),_vm._m(0)]),_c('h2',{attrs:{\"id\":\"%E5%B0%8F%E8%B0%88%E9%97%AD%E5%8C%85closure-1\"}},[_vm._v(\"小谈闭包closure\")]),_vm._v(\" \"),_c('p',[_c('b',{staticClass:\"update-time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(1551503379253)))]),_c('b',{staticClass:\"type\"},[_vm._v(\"js\")]),_vm._v(\" \"),_c('b',{staticClass:\"kw\"},[_vm._v(\"闭包\")]),_vm._v(\" \"),_c('b',{staticClass:\"kw\"},[_vm._v(\"垃圾回收\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85%EF%BC%9F-1\"}},[_vm._v(\"什么是闭包？\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('p',[_vm._v(\"以上定义大概是看到的比较多的对闭包的定义。当然闭包有狭义的也有广义的，而大部分我们讨论的都是狭义的（外层函数执行完而其局部对象并不被销毁）\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E5%8E%9F%E5%9B%A0-1\"}},[_vm._v(\"闭包的形成原因\")]),_vm._v(\" \"),_c('p',[_vm._v(\"我们知道，在 js 中，当函数执行前，作用域会为该函数创建活动对象（当多层函数嵌套执行时就形成了作用域链），当函数执行完就会销毁这个作用域（活动对象），将作用域链 pop。而闭包则是由于内部函数访问了该函数的作用域并通过一些方式使得活动对象不能被释放\")]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"%E7%8B%AD%E4%B9%89%E4%B8%8A%E7%9A%84%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E6%9D%A1%E4%BB%B6-1\"}},[_vm._v(\"狭义上的闭包的形成条件\")]),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"js-%E5%BC%95%E6%93%8E%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6-1\"}},[_vm._v(\"js 引擎的垃圾回收机制\")]),_vm._v(\" \"),_c('p',[_vm._v(\"或许说到这里大部分人会想到 引用计数、标记清除。实际上讲清楚 js 引擎垃圾回收就一句话 当内存不再需要使用时释放\")]),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),_vm._m(6),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E5%86%8D%E7%9C%8B%E9%97%AD%E5%8C%85-1\"}},[_vm._v(\"再看闭包\")]),_vm._v(\" \"),_c('p',[_vm._v(\"其实在我们日常的代码中，闭包随处可见，简单的模块化实现，惰性单例，高阶函数等等都用到了闭包。个人经常会陷入一个怪圈，在一些多层传递的异步代码中由于使用了闭包，经常担心是否被回收？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"举个例子，在封装小程序请求接口时希望将接口封装成 thenable 风格，并支持 abort，还支持最大十个并发，出现了以下代码\")]),_vm._v(\" \"),_vm._m(7)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aside-menu-con\"},[_c('a',{staticClass:\"level-2 aside-menu-item\",attrs:{\"href\":\"#%E5%B0%8F%E8%B0%88%E9%97%AD%E5%8C%85closure-1\"}},[_vm._v(\"小谈闭包closure\")]),_c('a',{staticClass:\"level-3 aside-menu-item\",attrs:{\"href\":\"#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85%EF%BC%9F-1\"}},[_vm._v(\"什么是闭包？\")]),_c('a',{staticClass:\"level-4 aside-menu-item\",attrs:{\"href\":\"#%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E5%8E%9F%E5%9B%A0-1\"}},[_vm._v(\"闭包的形成原因\")]),_c('a',{staticClass:\"level-4 aside-menu-item\",attrs:{\"href\":\"#%E7%8B%AD%E4%B9%89%E4%B8%8A%E7%9A%84%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E6%9D%A1%E4%BB%B6-1\"}},[_vm._v(\"狭义上的闭包的形成条件\")]),_c('a',{staticClass:\"level-3 aside-menu-item\",attrs:{\"href\":\"#js-%E5%BC%95%E6%93%8E%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6-1\"}},[_vm._v(\"js 引擎的垃圾回收机制\")]),_c('a',{staticClass:\"level-3 aside-menu-item\",attrs:{\"href\":\"#%E5%86%8D%E7%9C%8B%E9%97%AD%E5%8C%85-1\"}},[_vm._v(\"再看闭包\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_c('p',[_vm._v(\"闭包是指有权访问另一个函数作用域的变量的函数。闭包是函数和声明该函数的词法环境的组合。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',{pre:true},[_c('code',{attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"a\")]),_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}}),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" b = \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\";\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" b++\\n}\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" c = a()\\n\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" obj = {}\\n\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"d\")]),_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}}),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" b = \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\";\\n  obj.fn = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" b++\\n}\\nd()\\n\\n\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"e\")]),_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}}),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" b = \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\";\\n  setInterval(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" b++, \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"500\")]),_vm._v(\")\\n}\\n\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_c('p',[_vm._v(\"以上几种方式都能形成狭义上的闭包\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_vm._v(\"函数内部声明了函数\")]),_vm._v(\" \"),_c('li',[_vm._v(\"内部函数使用了该函数的局部变量\")]),_vm._v(\" \"),_c('li',[_vm._v(\"函数执行完后内部函数不被销毁\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_c('p',[_vm._v(\"从2012年起，所有现代浏览器都使用了标记-清除垃圾回收算法。所有对JavaScript垃圾回收算法的改进都是基于标记-清除算法的改进，并没有改进标记-清除算法本身和它对“对象是否不再需要”的简化定义。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"https://juejin.im/post/5b1f7e62e51d45068a6cb98f\"}},[_vm._v(\"拓展阅读\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',{pre:true},[_c('code',{attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" MAX = \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"10\")]),_vm._v(\";\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" counts = \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\";\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" queue = [];\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" timer = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"time\")]),_vm._v(\") =>\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Promise\")]),_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"resolve, reject\")]),_vm._v(\") =>\")]),_vm._v(\" setTimeout(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" reject(genRes(\"),_c('span',{attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'timeout'\")]),_vm._v(\")), time))\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" request = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"config\")]),_vm._v(\" =>\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Promise\")]),_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_vm._v(\"(\"),_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"resolve, reject\")]),_vm._v(\") =>\")]),_vm._v(\" {\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" task\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (MAX >= counts++) {\\n    \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" item = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" (task = wx.request(genOpt(config, resolve, reject)))\\n    queue.push()\\n    task = {\\n      abort() {\\n        \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (queue.indexOf(item) > \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"-1\")]),_vm._v(\") {\\n          queue.splice(queue.indexOf(item), \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"1\")]),_vm._v(\")\\n          reject(genRes(\"),_c('span',{attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'abort'\")]),_vm._v(\"))\\n        } \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"else\")]),_vm._v(\" {\\n          task.abort()\\n        }\\n      }\\n    }\\n  } \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"else\")]),_vm._v(\" {\\n    task = wx.request(genOpt(config, resolve, reject))\\n  }\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"typeof\")]),_vm._v(\" config.requested === \"),_c('span',{attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'function'\")]),_vm._v(\") {\\n    config.requested(task)\\n  }\\n})\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" finishQueue = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" {\\n  counts--;\\n  queue.length > \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\" && queue.shift()()\\n}\\n\"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" wxFetch = \"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"config\")]),_vm._v(\" =>\")]),_vm._v(\" {\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" list = [request(config)]\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"typeof\")]),_vm._v(\" config.timeout === \"),_c('span',{attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'number'\")]),_vm._v(\" && list.push(timer(config.timeout))\\n  \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Promise\")]),_vm._v(\".race(list).then(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"res\")]),_vm._v(\" =>\")]),_vm._v(\" {\\n    finishQueue()\\n    \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" res\\n  }, err => {\\n    finishQueue()\\n    \"),_c('span',{attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Promise\")]),_vm._v(\".reject(err)\\n  })\\n}\\n\\n\"),_c('span',{attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 业务代码\")]),_vm._v(\"\\nwxFetch({\\n  requested(task) {\\n    setTimeout(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")]),_vm._v(\" =>\")]),_vm._v(\" {\\n      task.abort()\\n    }, \"),_c('span',{attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"500\")]),_vm._v(\")\\n  }\\n}).then(\"),_c('span',{attrs:{\"class\":\"hljs-function\"}},[_c('span',{attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"res\")]),_vm._v(\" =>\")]),_vm._v(\" {\\n  \"),_c('span',{attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// ...\")]),_vm._v(\"\\n}, err => {\\n  \"),_c('span',{attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// ...\")]),_vm._v(\"\\n})\\n\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57750f3c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-markdown-loader/lib/markdown-compiler.js?raw!./src/pages/closure.md\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57750f3c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/vue-markdown-loader/lib/markdown-compiler.js?raw!./closure.md\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader!./node_modules/vue-markdown-loader/lib/markdown-compiler.js?raw!./src/pages/closure.md\n// module id = null\n// module chunks = ","module.exports = require(\"!!vue-loader!../../node_modules/vue-markdown-loader/lib/markdown-compiler.js?raw!./closure.md\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/closure.md\n// module id = u4kN\n// module chunks = 14"],"sourceRoot":""}